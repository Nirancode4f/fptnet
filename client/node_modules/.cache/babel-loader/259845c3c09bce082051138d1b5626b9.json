{"ast":null,"code":"var _jsxFileName = \"D:\\\\Code\\\\WEB\\\\FPT_net\\\\fptnet\\\\client\\\\src\\\\component\\\\Profile\\\\PostPopup\\\\CmtPost\\\\SendBox.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useRef } from 'react';\nimport Button from '@mui/material/Button';\nimport SendIcon from '@mui/icons-material/Send';\nimport { useEffect } from 'react';\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst URL_MAIN = process.env.REACT_APP_URL_MAIN || \"https://fanserverapi.herokuapp.com\";\nexport const SendBox = props => {\n  _s();\n\n  const {\n    postId\n  } = props;\n  const choose = useRef(true);\n  const [Localdata, setLocaldata] = useState({});\n  const [isUnmound, setisUnmound] = useState(true);\n  const [CommentText, setCommentText] = useState(\"\");\n  useEffect(() => {\n    choose.current.focus();\n  }, []);\n\n  const handleSend = e => {\n    e.preventDefault();\n    setCommentText(\"\");\n    var localData = JSON.parse(localStorage.getItem(\"loginData\"));\n    const userId = localData.user._id; // check if component is mounted\n\n    if (CommentText !== \"\") {\n      try {\n        axios.post(`${URL_MAIN}/api/comment/create`, {\n          \"userId\": `${userId}`,\n          \"postId\": `${postId}`,\n          \"content\": `${CommentText}`\n        }, {\n          headers: {\n            \"Content-Type\": \"application/json\"\n          }\n        }).then(res => {\n          console.log(res.data);\n        }).catch(err => {\n          console.log(err.message);\n        });\n      } catch (error) {\n        // console log error\n        console.log(error);\n      }\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: handleSend,\n    className: \"comment-post\",\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      ref: choose,\n      value: CommentText,\n      type: \"text\",\n      onChange: e => setCommentText(e.target.value),\n      placeholder: \"Input your comment here\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      onClick: handleSend,\n      style: {\n        color: \"#f36f21\"\n      },\n      endIcon: /*#__PURE__*/_jsxDEV(SendIcon, {\n        onClick: handleSend,\n        style: {\n          color: \"#f36f21\"\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 22\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 68,\n    columnNumber: 9\n  }, this);\n};\n\n_s(SendBox, \"rnHv8NNmyk0h1GdwXh5ed5VNJyM=\");\n\n_c = SendBox;\n\nvar _c;\n\n$RefreshReg$(_c, \"SendBox\");","map":{"version":3,"sources":["D:/Code/WEB/FPT_net/fptnet/client/src/component/Profile/PostPopup/CmtPost/SendBox.jsx"],"names":["React","useState","useRef","Button","SendIcon","useEffect","axios","URL_MAIN","process","env","REACT_APP_URL_MAIN","SendBox","props","postId","choose","Localdata","setLocaldata","isUnmound","setisUnmound","CommentText","setCommentText","current","focus","handleSend","e","preventDefault","localData","JSON","parse","localStorage","getItem","userId","user","_id","post","headers","then","res","console","log","data","catch","err","message","error","target","value","color"],"mappings":"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","sourcesContent":["import React, { useState , useRef } from 'react'\r\nimport Button from '@mui/material/Button';\r\nimport SendIcon from '@mui/icons-material/Send';\r\nimport { useEffect } from 'react';\r\nimport axios from \"axios\";\r\nconst URL_MAIN =\r\n  process.env.REACT_APP_URL_MAIN || \"https://fanserverapi.herokuapp.com\";\r\n\r\n\r\n\r\n\r\n\r\nexport const SendBox = (props) => {\r\n    const {postId } = props\r\n    const choose = useRef(true)\r\n    const [Localdata,setLocaldata] = useState({})\r\n    const [isUnmound, setisUnmound] = useState(true)\r\n    const [CommentText, setCommentText] = useState(\"\")\r\n\r\n\r\n    \r\n    \r\nuseEffect(()=>{\r\n    choose.current.focus()\r\n},[])\r\n   \r\n    const handleSend = (e)=>{\r\n    e.preventDefault()\r\n    setCommentText(\"\")\r\n    var localData = JSON.parse(localStorage.getItem(\"loginData\"));\r\n\r\n    const userId = localData.user._id\r\n    // check if component is mounted\r\n    if (CommentText !== \"\")\r\n    {try {\r\n        axios\r\n        .post(\r\n            `${URL_MAIN}/api/comment/create`,\r\n            {\r\n            \"userId\": `${userId}`,\r\n            \"postId\": `${postId}`,\r\n            \"content\": `${CommentText}`\r\n            },\r\n            {\r\n            headers: {\r\n                \"Content-Type\": \"application/json\",\r\n            },\r\n            }\r\n        )\r\n        .then((res) => {\r\n            console.log(res.data)\r\n           \r\n            \r\n        })\r\n        .catch((err) => {\r\n            console.log(err.message);\r\n        });\r\n    } catch (error) {\r\n        // console log error\r\n        console.log(error);\r\n    }}\r\n    }\r\n\r\n\r\n\r\n\r\n    return (\r\n        <form onSubmit={handleSend} className=\"comment-post\">\r\n            <input \r\n            ref={choose}\r\n            value={CommentText}\r\n            type=\"text\" \r\n            onChange={(e)=>setCommentText(e.target.value)} \r\n            placeholder=\"Input your comment here\" />\r\n\r\n            <Button\r\n            onClick={handleSend}\r\n            style={{ color: \"#f36f21\" }}\r\n            endIcon={<SendIcon onClick={handleSend} style={{ color: \"#f36f21\" }} />}></Button>\r\n        </form>\r\n    )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}